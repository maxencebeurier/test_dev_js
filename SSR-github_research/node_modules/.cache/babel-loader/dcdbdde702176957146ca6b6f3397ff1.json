{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/maxence/bizon_dev_test/SSR-github_research/pages/component/Main.js\";\nimport React, { Component } from 'react';\nimport Github from '../api/github.js';\nimport Depot from './Depot.js';\nimport '../css/main.css';\n\nvar Main =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Main, _Component);\n\n  function Main(props) {\n    var _this;\n\n    _classCallCheck(this, Main);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Main).call(this, props));\n    _this.state = {\n      nomDepot: \"\",\n      user: \"\",\n      resultat: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Main, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function () {\n      var _handleSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var apiGithub, queryString, result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n\n                if (!(this.state.nomDepot !== \"\" || this.state.user !== \"\")) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _context.next = 4;\n                return new Github();\n\n              case 4:\n                apiGithub = _context.sent;\n\n                if (this.state.nomDepot !== \"\" && this.state.user !== \"\") {\n                  queryString = this.state.nomDepot + \"+user:\" + this.state.user;\n                } else if (this.state.nomDepot !== \"\") {\n                  queryString = this.state.nomDepot;\n                } else {\n                  queryString = \"user:\" + this.state.user;\n                }\n\n                _context.next = 8;\n                return apiGithub.research(queryString);\n\n              case 8:\n                result = _context.sent;\n\n                if (!(result !== false)) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _context.next = 12;\n                return this.setState({\n                  resultat: result['items']\n                });\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function handleSubmit(_x) {\n        return _handleSubmit.apply(this, arguments);\n      }\n\n      return handleSubmit;\n    }()\n  }, {\n    key: \"displayDepot\",\n    value: function displayDepot() {\n      var lesDepots = [];\n\n      if (this.state.resultat !== false) {\n        this.state.resultat.forEach(function (ligne) {\n          lesDepots.push(React.createElement(Depot, {\n            key: ligne['id'],\n            data: ligne,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 42\n            },\n            __self: this\n          }));\n        });\n      }\n\n      return lesDepots;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"conteneur\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"GitHub Research\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Saisissez le nom du d\\xE9pot :\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"nomDepot\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Saisissez le pseudo du propri\\xE9taire du d\\xE9pot:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"user\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Rechercher\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })), this.displayDepot());\n    }\n  }]);\n\n  return Main;\n}(Component);\n\nexport { Main as default };","map":{"version":3,"sources":["/home/maxence/bizon_dev_test/SSR-github_research/pages/component/Main.js"],"names":["React","Component","Github","Depot","Main","props","state","nomDepot","user","resultat","handleChange","bind","handleSubmit","event","setState","target","name","value","preventDefault","apiGithub","queryString","research","result","lesDepots","forEach","ligne","push","displayDepot"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport Github from '../api/github.js';\nimport Depot from './Depot.js';\nimport '../css/main.css';\nexport default class Main extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={nomDepot:\"\",user:\"\",resultat:false};\n\t\tthis.handleChange=this.handleChange.bind(this);\n\t\tthis.handleSubmit=this.handleSubmit.bind(this);\n\t}\n\n\thandleChange(event) {\n    this.setState({[event.target.name]: event.target.value});\n  }\n\n  async handleSubmit(event) {\n  \tevent.preventDefault();\n  \tif(this.state.nomDepot!==\"\" || this.state.user!==\"\"){\n  \t\tconst apiGithub=await new Github();\n  \t\tlet queryString;\n  \t\tif(this.state.nomDepot!==\"\" && this.state.user!==\"\"){\n  \t\t\tqueryString=this.state.nomDepot+\"+user:\"+this.state.user;\n  \t\t}else if(this.state.nomDepot!==\"\") {\n  \t\t\tqueryString=this.state.nomDepot;\n  \t\t}else{\n  \t\t\tqueryString=\"user:\"+this.state.user;\n  \t\t}\n  \t\tlet result = await apiGithub.research(queryString);\n    \tif(result!==false){\n    \t\tawait this.setState({resultat:result['items']});\n    \t}\n    //console.log(this.state.resultat);\n  \t}\n  }\n\n  displayDepot(){\n  \tlet lesDepots=[];\n  \tif(this.state.resultat!==false){\n  \t\tthis.state.resultat.forEach((ligne)=>{\n  \t\tlesDepots.push(\n  \t\t\t<Depot key={ligne['id']} data={ligne} />\n\t\t);\n  \t});\n  \t}\n  \treturn lesDepots;\n  }\n\n\trender(){\n\t\treturn(\n\t\t\t<div id='conteneur'>\n        <header>\n          GitHub Research\n        </header>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t  <label>\n\t\t\t\t    <div>Saisissez le nom du dépot :</div>\n\t\t\t\t    <input type=\"text\" name=\"nomDepot\" onChange={this.handleChange}/>\n\t\t\t\t  </label>\n\t\t\t\t  <label>\n\t\t\t\t    <div>Saisissez le pseudo du propriétaire du dépot:</div>\n\t\t\t\t    <input type=\"text\" name=\"user\" onChange={this.handleChange}/>\n\t\t\t\t  </label>\n\t\t\t\t  <input type=\"submit\" value=\"Rechercher\"/>\n\t\t\t\t</form>\n\t\t\t\t{this.displayDepot()}\n\t\t\t</div>\n\t\t);\n\t}\n}"]},"metadata":{},"sourceType":"module"}